import React, { useState } from 'react';import { useNavigate } from 'react-router-dom';import { useAuth } from '../../context/AuthContext';import { mockCases, workerCases } from '../../data/mockData';import { FaSearch, FaExclamationTriangle, FaInfoCircle, FaCheckCircle } from 'react-icons/fa';import './DoctorDashboard.css';const DoctorDashboard = () => {    const { user, logout } = useAuth();    const navigate = useNavigate();    const [searchQuery, setSearchQuery] = useState('');    const [urgencyFilter, setUrgencyFilter] = useState('all');    const allCases = [...mockCases, ...workerCases].filter(c => c.status !== 'closed');    const urgencyOrder = { HIGH: 1, MEDIUM: 2, LOW: 3 };    const sortedCases = allCases.sort((a, b) => urgencyOrder[a.urgency] - urgencyOrder[b.urgency]);    const filteredCases = sortedCases.filter(c => {        const matchesSearch = searchQuery === '' ||             c.patientName.toLowerCase().includes(searchQuery.toLowerCase()) ||            (c.village && c.village.toLowerCase().includes(searchQuery.toLowerCase()));        const matchesUrgency = urgencyFilter === 'all' || c.urgency === urgencyFilter;        return matchesSearch && matchesUrgency;    });    const getUrgencyConfig = (urgency) => {        switch (urgency) {            case 'HIGH':                return { icon: FaExclamationTriangle, color: '#ef4444', label: 'High' };            case 'MEDIUM':                return { icon: FaInfoCircle, color: '#f59e0b', label: 'Medium' };            default:                return { icon: FaCheckCircle, color: '#14b8a6', label: 'Low' };        }    };    const getTimeAgo = (date) => {        const minutes = Math.floor((Date.now() - date) / 60000);        if (minutes < 60) return `${minutes} min ago`;        const hours = Math.floor(minutes / 60);        if (hours < 24) return `${hours} hour${hours > 1 ? 's' : ''} ago`;        const days = Math.floor(hours / 24);        return `${days} day${days > 1 ? 's' : ''} ago`;    };    return (        <div className="doctor-dashboard">            <div className="dashboard-header">                <div>                    <h1>Welcome, {user?.name}</h1>                    <p className="subtitle">Doctor Dashboard</p>                </div>                <button onClick={logout} className="logout-btn">Logout</button>            </div>            <div className="quick-actions">                <div className="action-card" onClick={() => navigate('/dashboard/doctor/profile')}>                    <h3>ðŸ‘¤ Profile</h3>                    <p>Manage your profile and availability</p>                </div>                <div className="action-card" onClick={() => navigate('/dashboard/doctor/appointments')}>                    <h3>ðŸ“… Appointments</h3>                    <p>View and manage appointments</p>                </div>                <div className="action-card" onClick={() => navigate('/dashboard/doctor/messages')}>                    <h3>ðŸ’¬ Messages</h3>                    <p>Chat with patients</p>                </div>            </div>            <div className="stats-bar">                <div className="stat-card high">                    <span className="stat-number">{allCases.filter(c => c.urgency === 'HIGH').length}</span>                    <span className="stat-label">High Priority</span>                </div>                <div className="stat-card medium">                    <span className="stat-number">{allCases.filter(c => c.urgency === 'MEDIUM').length}</span>                    <span className="stat-label">Medium Priority</span>                </div>                <div className="stat-card low">                    <span className="stat-number">{allCases.filter(c => c.urgency === 'LOW').length}</span>                    <span className="stat-label">Low Priority</span>                </div>                <div className="stat-card total">                    <span className="stat-number">{allCases.length}</span>                    <span className="stat-label">Total Cases</span>                </div>            </div>            <div className="search-filter-bar">                <div className="search-box">                    <FaSearch className="search-icon" />                    <input                        type="text"                        placeholder="Search by patient name or village..."                        value={searchQuery}                        onChange={(e) => setSearchQuery(e.target.value)}                    />                </div>                <select value={urgencyFilter} onChange={(e) => setUrgencyFilter(e.target.value)}>                    <option value="all">All Urgency Levels</option>                    <option value="HIGH">High Priority</option>                    <option value="MEDIUM">Medium Priority</option>                    <option value="LOW">Low Priority</option>                </select>            </div>            <div className="cases-table">                {filteredCases.length === 0 ? (                    <div className="empty-state">                        <p style={{ fontSize: '3rem' }}>âœ…</p>                        <h3>No pending cases</h3>                        <p>All cases have been reviewed!</p>                    </div>                ) : (                    filteredCases.map(caseItem => {                        const urgencyConfig = getUrgencyConfig(caseItem.urgency);                        return (                            <div                                 key={caseItem.id}                                 className="case-row"                                onClick={() => navigate(`/dashboard/doctor/case/${caseItem.id}`)}                            >                                <div className="case-urgency">                                    <urgencyConfig.icon style={{ color: urgencyConfig.color, fontSize: '2rem' }} />                                    <span className="urgency-label" style={{ color: urgencyConfig.color }}>                                        {urgencyConfig.label}                                    </span>                                </div>                                <div className="case-patient-info">                                    <h3>{caseItem.patientName}</h3>                                    <p>{caseItem.age} years â€¢ {caseItem.village || 'Unknown location'}</p>                                </div>                                <div className="case-symptoms">                                    <strong>Symptoms:</strong>                                    <p>{caseItem.symptoms.join(', ')}</p>                                </div>                                <div className="case-specialty">                                    <span className="specialty-badge">{caseItem.specialty}</span>                                </div>                                <div className="case-time">                                    <span>{getTimeAgo(caseItem.submittedAt)}</span>                                    {caseItem.submittedBy && <p className="submitted-by">{caseItem.submittedBy}</p>}                                </div>                            </div>                        );                    })                )}            </div>        </div>    );};export default DoctorDashboard;