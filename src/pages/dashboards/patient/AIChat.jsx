import React, { useState } from 'react';import { useNavigate } from 'react-router-dom';import { FaRobot, FaUser, FaArrowLeft } from 'react-icons/fa';import { triageRules } from '../../../data/mockData';import './AIChat.css';const AIChat = () => {    const navigate = useNavigate();    const [messages, setMessages] = useState([        { sender: 'ai', text: 'Hello! I\'m your AI Health Assistant. I can help you understand your symptoms and recommend the next steps. What symptoms are you experiencing?' }    ]);    const [input, setInput] = useState('');    const [triageResult, setTriageResult] = useState(null);    const analyzeSymptoms = (userInput) => {        const lowerInput = userInput.toLowerCase();        for (const rule of triageRules) {            const matchedSymptoms = rule.symptoms.filter(symptom =>                 lowerInput.includes(symptom)            );            if (matchedSymptoms.length > 0) {                return {                    urgency: rule.urgency,                    recommendation: rule.recommendation,                    specialty: rule.specialty,                    matchedSymptoms                };            }        }        return {            urgency: 'SELF_CARE',            recommendation: 'Based on your symptoms, rest and home care are recommended. If symptoms persist or worsen, please consult a doctor.',            specialty: 'General Medicine',            matchedSymptoms: []        };    };    const handleSend = () => {        if (!input.trim()) return;        const userMessage = { sender: 'user', text: input };        setMessages(prev => [...prev, userMessage]);        const result = analyzeSymptoms(input);        setTriageResult(result);        const aiResponse = {            sender: 'ai',            text: `Based on your symptoms, here's my assessment:\n\n${result.recommendation}\n\nRecommended Specialty: ${result.specialty}\nUrgency Level: ${result.urgency}`        };        setTimeout(() => {            setMessages(prev => [...prev, aiResponse]);        }, 1000);        setInput('');    };    const getUrgencyColor = (urgency) => {        switch (urgency) {            case 'EMERGENCY': return '#ef4444';            case 'CONSULT': return '#f59e0b';            default: return '#14b8a6';        }    };    return (        <div className="ai-chat-container">            <div className="chat-header">                <button onClick={() => navigate('/dashboard/patient')} className="back-btn">                    <FaArrowLeft /> Back                </button>                <h2><FaRobot /> AI Health Assistant</h2>            </div>            <div className="chat-messages">                {messages.map((msg, index) => (                    <div key={index} className={`message ${msg.sender}`}>                        <div className="message-icon">                            {msg.sender === 'ai' ? <FaRobot /> : <FaUser />}                        </div>                        <div className="message-bubble">                            {msg.text}                        </div>                    </div>                ))}            </div>            {triageResult && (                <div className="triage-result" style={{ borderColor: getUrgencyColor(triageResult.urgency) }}>                    <h3>Triage Assessment</h3>                    <div className="urgency-badge" style={{ background: getUrgencyColor(triageResult.urgency) }}>                        {triageResult.urgency}                    </div>                    <p><strong>Recommendation:</strong> {triageResult.recommendation}</p>                    <p><strong>Specialty:</strong> {triageResult.specialty}</p>                    {triageResult.urgency !== 'SELF_CARE' && (                        <button                             className="find-doctor-btn"                            onClick={() => navigate('/dashboard/patient/doctors')}                        >                            Find Doctor                        </button>                    )}                </div>            )}            <div className="chat-input">                <input                    type="text"                    placeholder="Describe your symptoms..."                    value={input}                    onChange={(e) => setInput(e.target.value)}                    onKeyPress={(e) => e.key === 'Enter' && handleSend()}                />                <button onClick={handleSend}>Send</button>            </div>        </div>    );};export default AIChat;