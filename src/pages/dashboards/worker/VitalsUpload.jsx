import React, { useState } from 'react';import { useNavigate } from 'react-router-dom';import { FaArrowLeft, FaHeartbeat, FaRobot } from 'react-icons/fa';import { triageRules } from '../../../data/mockData';import './VitalsUpload.css';const VitalsUpload = () => {    const navigate = useNavigate();    const [patientName, setPatientName] = useState('');    const [symptoms, setSymptoms] = useState([]);    const [vitals, setVitals] = useState({        bloodPressure: '',        heartRate: '',        temperature: '',        oxygenSaturation: ''    });    const [observations, setObservations] = useState('');    const [triageResult, setTriageResult] = useState(null);    const symptomOptions = [        'Fever', 'Cough', 'Headache', 'Chest Pain', 'Shortness of Breath',        'Dizziness', 'Nausea', 'Fatigue', 'Body Ache', 'Sore Throat'    ];    const toggleSymptom = (symptom) => {        setSymptoms(prev =>            prev.includes(symptom)                ? prev.filter(s => s !== symptom)                : [...prev, symptom]        );    };    const handleVitalChange = (field, value) => {        setVitals(prev => ({ ...prev, [field]: value }));    };    const runAITriage = () => {        for (const rule of triageRules) {            const matchedSymptoms = rule.symptoms.filter(s =>                symptoms.some(userSymptom => userSymptom.toLowerCase().includes(s))            );            if (matchedSymptoms.length > 0) {                setTriageResult({                    urgency: rule.urgency,                    recommendation: rule.recommendation,                    specialty: rule.specialty                });                return;            }        }        setTriageResult({            urgency: 'SELF_CARE',            recommendation: 'Monitor symptoms and provide home care.',            specialty: 'General Medicine'        });    };    const handleSubmit = (e) => {        e.preventDefault();        alert(`Case submitted for ${patientName} with ${triageResult?.urgency} priority!`);        navigate('/dashboard/worker/my-cases');    };    const getUrgencyColor = (urgency) => {        switch (urgency) {            case 'EMERGENCY': return '#ef4444';            case 'CONSULT': return '#f59e0b';            default: return '#14b8a6';        }    };    return (        <div className="vitals-upload-container">            <div className="vitals-header">                <button onClick={() => navigate('/dashboard/worker')} className="back-btn">                    <FaArrowLeft /> Back                </button>                <h2><FaHeartbeat /> Submit Patient Case</h2>            </div>            <form className="vitals-form" onSubmit={handleSubmit}>                <div className="form-section">                    <h3>Patient Details</h3>                    <div className="form-group">                        <label>Patient Name *</label>                        <input                            type="text"                            required                            value={patientName}                            onChange={(e) => setPatientName(e.target.value)}                            placeholder="Enter patient name"                        />                    </div>                </div>                <div className="form-section">                    <h3>Symptoms</h3>                    <div className="symptoms-grid">                        {symptomOptions.map(symptom => (                            <button                                key={symptom}                                type="button"                                className={`symptom-btn ${symptoms.includes(symptom) ? 'active' : ''}`}                                onClick={() => toggleSymptom(symptom)}                            >                                {symptom}                            </button>                        ))}                    </div>                </div>                <div className="form-section">                    <h3>Vitals</h3>                    <div className="vitals-grid">                        <div className="form-group">                            <label>Blood Pressure</label>                            <input                                type="text"                                value={vitals.bloodPressure}                                onChange={(e) => handleVitalChange('bloodPressure', e.target.value)}                                placeholder="e.g., 120/80"                            />                        </div>                        <div className="form-group">                            <label>Heart Rate (bpm)</label>                            <input                                type="number"                                value={vitals.heartRate}                                onChange={(e) => handleVitalChange('heartRate', e.target.value)}                                placeholder="e.g., 72"                            />                        </div>                        <div className="form-group">                            <label>Temperature (Â°F)</label>                            <input                                type="number"                                step="0.1"                                value={vitals.temperature}                                onChange={(e) => handleVitalChange('temperature', e.target.value)}                                placeholder="e.g., 98.6"                            />                        </div>                        <div className="form-group">                            <label>Oxygen Saturation (%)</label>                            <input                                type="number"                                value={vitals.oxygenSaturation}                                onChange={(e) => handleVitalChange('oxygenSaturation', e.target.value)}                                placeholder="e.g., 98"                            />                        </div>                    </div>                </div>                <div className="form-section">                    <h3>Observations</h3>                    <textarea                        rows="4"                        value={observations}                        onChange={(e) => setObservations(e.target.value)}                        placeholder="Enter your observations about the patient's condition..."                    />                </div>                <button type="button" className="triage-btn" onClick={runAITriage} disabled={symptoms.length === 0}>                    <FaRobot /> Run AI Pre-Triage                </button>                {triageResult && (                    <div className="triage-result" style={{ borderColor: getUrgencyColor(triageResult.urgency) }}>                        <h3>AI Triage Result</h3>                        <div className="urgency-badge" style={{ background: getUrgencyColor(triageResult.urgency) }}>                            {triageResult.urgency}                        </div>                        <p><strong>Recommendation:</strong> {triageResult.recommendation}</p>                        <p><strong>Suggested Specialty:</strong> {triageResult.specialty}</p>                    </div>                )}                <button type="submit" className="submit-btn" disabled={!triageResult}>                    Submit to Doctor Queue                </button>            </form>        </div>    );};export default VitalsUpload;