import React, { useState } from 'react';import { useNavigate } from 'react-router-dom';import { FaArrowLeft, FaPaperPlane } from 'react-icons/fa';import './WorkerMessaging.css';const WorkerMessaging = () => {    const navigate = useNavigate();    const [selectedDoctor, setSelectedDoctor] = useState('D001');    const [message, setMessage] = useState('');    const [messages, setMessages] = useState({        D001: [            { sender: 'doctor', text: 'Thank you for submitting the case. I\'ve reviewed it.', time: '10:30 AM' },            { sender: 'worker', text: 'Should I schedule a follow-up visit?', time: '10:35 AM' }        ],        D002: [            { sender: 'worker', text: 'Patient is showing improvement after medication.', time: '11:00 AM' }        ]    });    const doctors = [        { id: 'D001', name: 'Dr. Priya Sharma', specialty: 'Cardiology', unread: 0 },        { id: 'D002', name: 'Dr. Anil Verma', specialty: 'General Medicine', unread: 1 }    ];    const handleSend = () => {        if (!message.trim()) return;        const newMessage = {            sender: 'worker',            text: message,            time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })        };        setMessages(prev => ({            ...prev,            [selectedDoctor]: [...(prev[selectedDoctor] || []), newMessage]        }));        setMessage('');    };    const currentMessages = messages[selectedDoctor] || [];    const currentDoctor = doctors.find(d => d.id === selectedDoctor);    return (        <div className="worker-messaging-container">            <div className="messaging-header">                <button onClick={() => navigate('/dashboard/worker')} className="back-btn">                    <FaArrowLeft /> Back                </button>                <h2>Messages with Doctors</h2>            </div>            <div className="messaging-layout">                <div className="doctors-list">                    <h3>Doctors</h3>                    {doctors.map(doctor => (                        <div                            key={doctor.id}                            className={`doctor-item ${selectedDoctor === doctor.id ? 'active' : ''}`}                            onClick={() => setSelectedDoctor(doctor.id)}                        >                            <div className="doctor-avatar">{doctor.name[0]}</div>                            <div className="doctor-info">                                <p className="doctor-name">{doctor.name}</p>                                <p className="doctor-specialty">{doctor.specialty}</p>                            </div>                            {doctor.unread > 0 && (                                <span className="unread-badge">{doctor.unread}</span>                            )}                        </div>                    ))}                </div>                <div className="chat-area">                    <div className="chat-header">                        <h3>{currentDoctor?.name}</h3>                        <p>{currentDoctor?.specialty}</p>                    </div>                    <div className="messages-list">                        {currentMessages.map((msg, index) => (                            <div key={index} className={`message ${msg.sender}`}>                                <div className="message-content">                                    <p>{msg.text}</p>                                    <span className="message-time">{msg.time}</span>                                </div>                            </div>                        ))}                    </div>                    <div className="message-input">                        <input                            type="text"                            placeholder="Type your message..."                            value={message}                            onChange={(e) => setMessage(e.target.value)}                            onKeyPress={(e) => e.key === 'Enter' && handleSend()}                        />                        <button onClick={handleSend}>                            <FaPaperPlane />                        </button>                    </div>                </div>            </div>        </div>    );};export default WorkerMessaging;